<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Vevo EMBED</title>
    <script type="text/javascript">
        var Vevo = {
            Cache: {
                Get: function () { return null; },
                Add: function () { }
            },
            Environment: { Context: { IsLoggedIn: false} },
            Resources: {
                Watch_Views: ''
            }
        };
    </script>

    <script type="text/javascript" src="http://cache.vevo.com/a/js/lib/swfobject.js" ></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/lib/jquery.plugins/jquery-ui-1.8.16.custom.min.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/lib/jquery.plugins/jquery.stringbuilder.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/jquery.wipetouch.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/lib/ZeroClipboard.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/modernizr.foundation.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/foundation.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/lib/underscore-min.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.API.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Enums.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Objects.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Repository.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.HTML5.Freewheel.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Tracking.ComScore.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.HTML5.Conviva.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Helpers.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Controls.Share.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Views.Friends.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Views.Home.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Views.Videos.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Views.Watch.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Views.Xbox.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/Vevo.Views.Settings.js"></script>
    <script type="text/javascript" src="http://m.vevo.com/resources/Javascript?culture=en-US"></script>
    <script type="text/javascript" src="http://adm.fwmrm.net/p/release/latest-JS/adm/dbg/AdManager.js" ></script>
    <script type="text/javascript" src="http://livepassdl.conviva.com/ver/2.50.0.56856/LivePass.js?customerId=c3.Vevo-Test"></script>

    <script type="text/javascript">
         $(document).ready(function () { selectEmbed(); });
    </script>

    <style type="text/css">
        #videoPlayer, #wrapper, div#playerHTML5.player-container
        {
            width:940px;
            height:524px; 
        }
        
        body{
            margin:0px; padding:0px;
        }
    </style>
</head>
<body>
    <script type="text/javascript">
        var height = 524;
        var sbId = "C188A3CA-3593-453A-B995-394B7A7E5332";
        var videoId = "CH3131340061";
        var autoplay = "0";
        var addAuto = (autoplay == "1");
        var siteSection = "vevo_macys_avicii";
        // var siteSection = "vevo_player_embedded";

        function selectEmbed() {
            if (swfobject.hasFlashPlayerVersion("10.0.22")) {
                embedSwf();
            } else {
                initializeHTML5();
            }
        }

        function initializeHTML5() {
            console.log("HTML" + " " + videoId + " " + siteSection)

            if (addAuto) {
                $('playerHTML5').attr('autoPlay', true);
            }
            $('playerHTML5').attr('data-sbid', sbId);

            // Vevo.Views.Watch.Init('CH3131340061', null, null, null, 'ralphlauren_ralphlauren.com', {heightOverride:height, singleVideoOverride: true});
            Vevo.Views.Watch.Init(videoId, null, null, null, siteSection, { heightOverride: height, singleVideoOverride: true });
        }

        function embedSwf() {
            console.log("FLASH")

            var baseurl = "http://videoplayer.vevo.com"
            var playerType = "embedded";
            var playlist = false;
            var cultureName = "en_us";
            var cultureIsRTL = "False";
            var embed = "true";

            swfobject.embedSWF(baseurl + "/embed/embedded", "playerSWF", "940", "524", "10.1.53", false, { /*flashvars*/
                'playerType': playerType,
                'videoId': videoId,
                'playlist': playlist,
                'enableDomScan': 'true',
                'siteSection': siteSection,
                'autoplay': autoplay,
                'cc': "US",
                'cultureName': cultureName,
                'cultureIsRTL': cultureIsRTL,
                'embed': embed,
                'endScreen': 'play',
                'sbId': sbId
            }, { /*params*/
                bgcolor: "#000000",
                allowFullScreen: "true",
                allowScriptAccess: "always",
                wmode: "transparent"
            }, { /*attributes*/
                id: "vevoPlayerSWF"
            });
        }

        function playSWF() {
            swfobject.getObjectById("vevoPlayerSWF")._play();
        }

        function pauseSWF() {
            swfobject.getObjectById("vevoPlayerSWF")._pause();
        }


        function playHTML5() {
            console.log("XXXXXXXXXXX onclick playHTML5()")
            document.getElementById("videoPlayer").play();

            //REMOVE CLICKEVENT FOR IPAD FORCE PLAY
            $("playerHTML5").prop("onclick", null);
        }

        function pauseHTML5() {
            document.getElementById("videoPlayer").pause();
        }


    </script>


    <div id="wrapper">
        <div id="playerSWF"></div>
        <div id="playerHTML5" class="player-container" data-authurl="http://api.vevo.com/VideoService/AuthenticateVideo" onclick="playHTML5()">
            <img id="loadingImg" src="http://cache.vevo.com/m/img/misc/ajax-loader.gif" style="position:relative;display:none;"/>
            <video id='videoPlayer' class='player' controls style='display:none;'></video>
        </div>
    </div>

    <script type="text/javascript" src="http://cache.vevo.com/m/js/comscore/streamsense.min.js"></script>
    <script type="text/javascript" src="http://cache.vevo.com/m/js/comscore/streamsense-html5.min.js"></script>

  
</body>
</html>